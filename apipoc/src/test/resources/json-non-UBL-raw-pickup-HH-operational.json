{
   "$schema":"http://json-schema.org/draft-04/schema#",
   "type":"object",
   "properties":{
      "_id":{
         "type":"object",
         "properties":{
            "$oid":{
               "type":"string"
            }
         },
         "required":[
            "$oid"
         ]
      },
      "shipments":{
         "type":"array",
         "items":[
            {
               "type":"object",
               "properties":{
                  "Shipment":{
                     "type":"object",
                     "properties":{
                        "Consignment":{
                           "anyOf":[
                              {
                                 "type":"object",
                                 "properties":{
                                    "ID":{
                                       "type":"string"
                                    },
                                    "TransportHandlingUnit":{
                                       "type":"object",
                                       "properties":{
                                          "TransportEquipment":{
                                             "type":"object",
                                             "properties":{
                                                "ID":{
                                                   "type":"string"
                                                },
                                                "OperatingParty":{
                                                   "type":"object",
                                                   "properties":{
                                                      "Party":{
                                                         "type":"object",
                                                         "properties":{
                                                            "Contact":{
                                                               "type":"array",
                                                               "items":[
                                                                  {
                                                                     "type":"object",
                                                                     "properties":{
                                                                        "Name":{
                                                                           "type":"string"
                                                                        }
                                                                     },
                                                                     "required":[
                                                                        "Name"
                                                                     ]
                                                                  }
                                                               ]
                                                            }
                                                         },
                                                         "required":[
                                                            "Contact"
                                                         ]
                                                      }
                                                   },
                                                   "required":[
                                                      "Party"
                                                   ]
                                                },
                                                "SizeTypeCode":{
                                                   "type":"string"
                                                }
                                             },
                                             "required":[
                                                "ID",
                                                "OperatingParty",
                                                "SizeTypeCode"
                                             ]
                                          }
                                       },
                                       "required":[
                                          "TransportEquipment"
                                       ]
                                    },
                                    "StatusLocation":{
                                       "type":"object",
                                       "properties":{
                                          "LocationCoordinate":{
                                             "type":"object",
                                             "properties":{
                                                "GeoLocation":{
                                                   "type":"object",
                                                   "properties":{
                                                      "Coordinates":{
                                                         "type":"array",
                                                         "items":[
                                                            {
                                                               "type":"number"
                                                            },
                                                            {
                                                               "type":"number"
                                                            }
                                                         ]
                                                      }
                                                   },
                                                   "required":[
                                                      "Coordinates"
                                                   ]
                                                }
                                             },
                                             "required":[
                                                "GeoLocation"
                                             ]
                                          },
                                          "Description":{
                                             "type":"string"
                                          },
                                          "StatusLocationOccurrenceDate":{
                                             "type":"string"
                                          },
                                          "StatusLocationOccurrenceTime":{
                                             "type":"string"
                                          }
                                       },
                                       "required":[
                                          "LocationCoordinate",
                                          "Description",
                                          "StatusLocationOccurrenceDate",
                                          "StatusLocationOccurrenceTime"
                                       ]
                                    },
                                    "OperationHandHeldEstimatedDeliveryTransportEvent":{
                                       "type":"object",
                                       "properties":{
                                          "OccurrenceDate":{
                                             "type":"string"
                                          },
                                          "OccurrenceTime":{
                                             "type":"string"
                                          }
                                       },
                                       "required":[
                                          "OccurrenceDate"
                                       ]
                                    }
                                 },
                                 "required":[
                                    "ID",
                                    "TransportHandlingUnit",
                                    "StatusLocation",
                                    "OperationHandHeldEstimatedDeliveryTransportEvent"
                                 ]
                              },
                              {
                                 "type":"object",
                                 "properties":{
                                    "CarrierAssignedID":{
                                       "type":"string"
                                    },
                                    "TransportHandlingUnit":{
                                       "type":"object",
                                       "properties":{
                                          "TransportEquipment":{
                                             "type":"object",
                                             "properties":{
                                                "ID":{
                                                   "type":"string"
                                                },
                                                "OperatingParty":{
                                                   "type":"object",
                                                   "properties":{
                                                      "Party":{
                                                         "type":"object",
                                                         "properties":{
                                                            "Contact":{
                                                               "type":"array",
                                                               "items":[
                                                                  {
                                                                     "type":"object",
                                                                     "properties":{
                                                                        "Name":{
                                                                           "type":"string"
                                                                        }
                                                                     },
                                                                     "required":[
                                                                        "Name"
                                                                     ]
                                                                  }
                                                               ]
                                                            }
                                                         },
                                                         "required":[
                                                            "Contact"
                                                         ]
                                                      }
                                                   },
                                                   "required":[
                                                      "Party"
                                                   ]
                                                },
                                                "SizeTypeCode":{
                                                   "type":"string"
                                                }
                                             },
                                             "required":[
                                                "ID",
                                                "OperatingParty",
                                                "SizeTypeCode"
                                             ]
                                          }
                                       },
                                       "required":[
                                          "TransportEquipment"
                                       ]
                                    },
                                    "StatusLocation":{
                                       "type":"object",
                                       "properties":{
                                          "LocationCoordinate":{
                                             "type":"object",
                                             "properties":{
                                                "GeoLocation":{
                                                   "type":"object",
                                                   "properties":{
                                                      "Coordinates":{
                                                         "type":"array",
                                                         "items":[
                                                            {
                                                               "type":"number"
                                                            },
                                                            {
                                                               "type":"number"
                                                            }
                                                         ]
                                                      }
                                                   },
                                                   "required":[
                                                      "Coordinates"
                                                   ]
                                                }
                                             },
                                             "required":[
                                                "GeoLocation"
                                             ]
                                          },
                                          "Description":{
                                             "type":"string"
                                          },
                                          "StatusLocationOccurrenceDate":{
                                             "type":"string"
                                          },
                                          "StatusLocationOccurrenceTime":{
                                             "type":"string"
                                          }
                                       }
                                    },
                                    "OperationHandHeldEstimatedPickupTransportEvent":{
                                       "type":"object",
                                       "properties":{
                                          "OccurrenceDate":{
                                             "type":"string"
                                          },
                                          "OccurrenceTime":{
                                             "type":"string"
                                          }
                                       },
                                       "required":[
                                          "OccurrenceDate",
                                          "OccurrenceTime"
                                       ]
                                    }
                                 },
                                 "required":[
                                    "CarrierAssignedID",
                                    "TransportHandlingUnit",
                                    "StatusLocation",
                                    "OperationHandHeldEstimatedPickupTransportEvent"
                                 ]
                              }
                           ],
                           "type":"object",
                           "properties":{
                              "ID":{
                                 "type":"string"
                              },
                              "TransportHandlingUnit":{
                                 "type":"object",
                                 "properties":{
                                    "TransportEquipment":{
                                       "type":"object",
                                       "properties":{
                                          "ID":{
                                             "type":"string"
                                          },
                                          "OperatingParty":{
                                             "type":"object",
                                             "properties":{
                                                "Party":{
                                                   "type":"object",
                                                   "properties":{
                                                      "Contact":{
                                                         "type":"array",
                                                         "items":[
                                                            {
                                                               "type":"object",
                                                               "properties":{
                                                                  "Name":{
                                                                     "type":"string"
                                                                  }
                                                               },
                                                               "required":[
                                                                  "Name"
                                                               ]
                                                            }
                                                         ]
                                                      }
                                                   },
                                                   "required":[
                                                      "Contact"
                                                   ]
                                                }
                                             },
                                             "required":[
                                                "Party"
                                             ]
                                          },
                                          "SizeTypeCode":{
                                             "type":"string"
                                          }
                                       },
                                       "required":[
                                          "ID",
                                          "OperatingParty",
                                          "SizeTypeCode"
                                       ]
                                    }
                                 },
                                 "required":[
                                    "TransportEquipment"
                                 ]
                              },
                              "StatusLocation":{
                                 "type":"object",
                                 "properties":{
                                    "LocationCoordinate":{
                                       "type":"object",
                                       "properties":{
                                          "GeoLocation":{
                                             "type":"object",
                                             "properties":{
                                                "Coordinates":{
                                                   "type":"array",
                                                   "items":[
                                                      {
                                                         "type":"number"
                                                      },
                                                      {
                                                         "type":"number"
                                                      }
                                                   ]
                                                }
                                             },
                                             "required":[
                                                "Coordinates"
                                             ]
                                          }
                                       },
                                       "required":[
                                          "GeoLocation"
                                       ]
                                    },
                                    "Description":{
                                       "type":"string"
                                    },
                                    "StatusLocationOccurrenceDate":{
                                       "type":"string"
                                    },
                                    "StatusLocationOccurrenceTime":{
                                       "type":"string"
                                    }
                                 },
                                 "required":[
                                    "LocationCoordinate",
                                    "Description",
                                    "StatusLocationOccurrenceDate",
                                    "StatusLocationOccurrenceTime"
                                 ]
                              },
                              "OperationHandHeldEstimatedDeliveryTransportEvent":{
                                 "type":"object",
                                 "properties":{
                                    "OccurrenceDate":{
                                       "type":"string"
                                    },
                                    "OccurrenceTime":{
                                       "type":"string"
                                    }
                                 },
                                 "required":[
                                    "OccurrenceDate",
                                    "OccurrenceTime"
                                 ]
                              }
                           },
                           "required":[
                              "ID",
                              "TransportHandlingUnit",
                              "StatusLocation",
                              "OperationHandHeldEstimatedDeliveryTransportEvent"
                           ]
                        }
                     },
                     "required":[
                        "Consignment"
                     ]
                  }
               },
               "required":[
                  "Shipment"
               ]
            }
         ]
      },
      "datetime":{
         "type":"string"
      },
      "feed-source":{
         "type":"string"
      }
   },
   "required":[
      "_id",
      "shipments",
      "datetime",
      "feed-source"
   ]
}